<!DOCTYPE html>
<html lang="{{@site.locale}}" id="top">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {{!-- Production: Load built assets --}}
    {{#unless @custom.development_mode}}
    {{> "vite_assets/head"}}
    {{/unless}}

    <title>{{meta_title}}</title>

    {{!-- Alpine.js for interactive components --}}
    <script defer src="{{asset "js/alpine.js"}}"></script>
    <style>[x-cloak] { display: none !important; }</style>

    {{ghost_head}}
</head>
<body class="{{body_class}}" x-data="{ navOpen: false }">

{{!-- Main wrapper with max-width 90rem for centering --}}
<div class="mx-auto max-w-360">
    {{!-- 7-column grid layout --}}
    <div class="site-grid">

        {{!-- Sidebar navigation (lg: in left outer column, below: mobile overlay) --}}
        {{> site-nav}}

        {{!-- Site header --}}
        {{> site-header}}

        {{!-- Main content area --}}
        <main class="grid-content row-2 min-h-[50vh]">
            {{{body}}}
        </main>

        {{!-- Site footer --}}
        {{> site-footer}}

    </div>
</div>

{{#if @custom.development_mode}}
{{!-- Development: Load from Vite dev server --}}
<script type="module" src="http://localhost:5173/@vite/client"></script>
<script type="module" src="http://localhost:5173/assets/js/index.js"></script>
{{else}}
{{!-- Production: Load built assets --}}
{{> "vite_assets/foot"}}
{{/if}}

{{ghost_foot}}

</body>
</html>
